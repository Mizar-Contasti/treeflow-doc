---
sidebar_position: 4
---

# Hojas

Las **Hojas** en TreeFlow son el equivalente a las entidades en otros sistemas de chatbots. Representan los tipos de datos que se pueden extraer de los mensajes del usuario.

## ¿Qué es una Hoja?

Una hoja define un tipo específico de información que tu árbol puede reconocer y extraer de los mensajes del usuario. Las hojas son fundamentales para:

- Extraer información relevante de los mensajes
- Personalizar las respuestas según los datos proporcionados
- Permitir que el árbol tome decisiones basadas en valores específicos

![Funcionamiento de las Hojas](/img/docs/hojas_funcionamiento.svg)

*Diagrama: Las Hojas extraen información estructurada de los mensajes del usuario*

## Estructura de una Hoja

Las hojas simples y compuestas en TreeFlow se basan en una estructura de **valores clave** y **sinónimos**. Esta estructura permite reconocer diferentes formas en que un usuario puede expresar el mismo concepto.

### Valores Clave

Los valores clave representan los datos específicos que la hoja puede identificar y extraer. Cada valor clave:

- Es un identificador único dentro de la hoja
- Representa un concepto o dato concreto
- Se utiliza internamente para procesar la información

### Sinónimos

Los sinónimos son las diferentes formas en que un usuario puede expresar el mismo valor clave. Cada valor clave puede tener múltiples sinónimos:

- Variaciones de escritura ("café", "cafe", "coffee")
- Expresiones coloquiales ("grande", "enorme", "extra large")
- Abreviaturas ("XL", "lg", "G")

### Funcionamiento

Cuando un usuario escribe un mensaje, TreeFlow:

1. Analiza el texto buscando coincidencias con los sinónimos definidos en las hojas
2. Cuando encuentra una coincidencia, extrae el valor clave asociado
3. Este valor clave se convierte en un parámetro estructurado que las ramas pueden utilizar

:::note Importante
Esta estructura de valores clave y sinónimos aplica principalmente a las hojas simples y compuestas. Las hojas regex funcionan con patrones de expresiones regulares en lugar de valores predefinidos.
:::

## Tipos de Hojas

TreeFlow soporta tres tipos principales de hojas:

### 1. Hojas Simples

Las hojas simples contienen una lista de valores y sus sinónimos. Son ideales para conjuntos finitos de opciones.

**Ejemplo:** Una hoja "sabor_helado" podría contener valores como:
- chocolate (sinónimos: choco, chocolatado)
- vainilla (sinónimos: vanilla, vainiya)
- fresa (sinónimos: frutilla, strawberry)

![Hoja Simple](/img/docs/hoja_simple.svg)

*Ejemplo: Estructura de una hoja simple con valores y sinónimos*

### 2. Hojas Compuestas

Las hojas compuestas combinan múltiples hojas simples para crear estructuras más complejas.

**Ejemplo:** Una hoja "pedido_helado" podría combinar las hojas "sabor_helado" y "tamaño_helado".

![Hoja Compuesta](/img/docs/hoja_compuesta.svg)

*Ejemplo: Estructura de una hoja compuesta que combina múltiples hojas*

### 3. Hojas Regex

Las hojas regex utilizan expresiones regulares para identificar patrones específicos en el texto.

**Ejemplo:** Una hoja para reconocer códigos de producto con el formato "ABC-12345".

![Hoja Regex](/img/docs/hoja_regex.svg)

*Ejemplo: Hoja regex para capturar patrones específicos*

## Hojas del Sistema

TreeFlow incluye hojas del sistema predefinidas para tipos de datos comunes. Estas hojas están optimizadas para reconocer formatos específicos de información sin necesidad de configuración adicional.

![Hojas del Sistema](/img/docs/hojas_sistema.svg)

*Diagrama: Las hojas del sistema están preconfiguradas para reconocer formatos comunes*

:::tip Lista completa de Hojas del Sistema
Para ver la lista completa de todas las Hojas del Sistema disponibles, con descripciones detalladas y ejemplos de los formatos que pueden capturar, consulta la [documentación de Hojas del Sistema](/Misc/HojasDelSistema).
:::



## Crear una Nueva Hoja

Para crear una nueva hoja:

1. Selecciona un árbol existente
2. Navega a la sección "Hojas"
3. Haz clic en "Nueva Hoja"
4. Selecciona el tipo de hoja (simple, compuesta, regex o personalizada)
5. Proporciona un nombre descriptivo para tu hoja
6. Configura los valores según el tipo de hoja
7. Guarda la hoja



## Mejores Prácticas para Hojas

1. **Nombres descriptivos**: Usa nombres que indiquen claramente qué tipo de información extrae la hoja
2. **Sinónimos completos**: Incluye todas las variaciones posibles de cada valor
3. **Organización adecuada**: Divide las hojas complejas en hojas más pequeñas y específicas
4. **Reutilización**: Crea hojas genéricas que puedan ser reutilizadas en múltiples ramas
5. **Prueba regularmente**: Verifica que tus hojas extraen correctamente la información en diferentes contextos

:::tip Consejo
Para mejorar la precisión de la extracción, proporciona ejemplos variados de cómo los usuarios podrían expresar los valores de la hoja.
:::




